<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>豚小屋探検隊 - 豚小屋に入らずんば子豚を得ず</title>
    
    <!-- Socket.io CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.2/socket.io.min.js"></script>
    
    <!-- 外部CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="connection-status disconnected" id="connection-status">🔴 未接続</div>
    <div class="player-name-display" id="player-name-display" style="display: none;">👤 <span id="my-name"></span></div>
    
    <div class="container">
        <div class="header">
            <h1>🐷 豚小屋探検隊 🐷</h1>
            <p class="subtitle">豚小屋に入らずんば子豚を得ず</p>
        </div>

        <div id="error-message" class="error-message"></div>

        <!-- ロビー画面 -->
        <div id="lobby" class="lobby">
            <div class="room-controls">
                <div class="control-section">
                    <h3>新しいルームを作成</h3>
                    <div class="input-group">
                        <label for="player-name-create">プレイヤー名:</label>
                        <input type="text" id="player-name-create" placeholder="名前を入力">
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="use-password">
                        <label for="use-password">パスワードを設定する</label>
                    </div>
                    <div class="input-group" id="password-group" style="display: none;">
                        <label for="room-password">パスワード:</label>
                        <input type="password" id="room-password" placeholder="パスワードを入力">
                    </div>
                    <button id="create-room" class="btn">ルームを作成</button>
                </div>
                
                <div class="control-section">
                    <h3>ルームに参加</h3>
                    <div class="input-group">
                        <label for="player-name-join">プレイヤー名:</label>
                        <input type="text" id="player-name-join" placeholder="名前を入力">
                    </div>
                    <div class="input-group">
                        <label for="room-id-input">ルームID:</label>
                        <input type="text" id="room-id-input" placeholder="ルームIDを入力">
                    </div>
                    <div class="input-group" id="join-password-group" style="display: none;">
                        <label for="join-password">パスワード:</label>
                        <input type="password" id="join-password" placeholder="パスワードを入力">
                    </div>
                    <button id="join-room" class="btn">ルームに参加</button>
                </div>

                <div class="control-section">
                    <h3>ゲーム中のルームに再入場</h3>
                    <div class="input-group">
                        <label for="rejoin-player-name">プレイヤー名:</label>
                        <input type="text" id="rejoin-player-name" placeholder="元の名前を入力">
                    </div>
                    <div class="input-group">
                        <label for="rejoin-room-id">ルームID:</label>
                        <input type="text" id="rejoin-room-id" placeholder="ルームIDを入力">
                    </div>
